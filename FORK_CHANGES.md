# Fork Modification Record: mcpcomputeruse-antigravity

本ドキュメントでは、オリジナル版 ([kblood/MCPComputerUse](https://github.com/kblood/MCPComputerUse)) から本フォーク版への変更点および技術的な修正内容を記録します。

## 1. 修正の目的
本フォークは、Windows 環境における MCP サーバーの動作を、Google Antigravity 等の AI エージェントから運用する際に最適化することを目的としています。オリジナル版で確認された SDK の不整合、命名規則の違反、および環境依存のコードを修正し、高い信頼性と互換性を確保しました。

## 2. 開発プロセス
本プロジェクトの修正・安定化は、AI エージェント（Google Antigravity）と人間（リード開発者）によるペアプログラミングを通じて実施されました。
- **人間による役割**: 課題の特定、修正方針の決定、および最終的な技術品質の担保。
- **AI による役割**: ソースコード全体のリファクタリング、SDK 移行、命名規則の適用、および検証。

## 3. 主要な技術的変更点

### 3.1. MCP SDK の正規化
- **問題**: プロジェクト内に独自のスタブ定義が残存しており、公式 SDK との定義競合（CS0436 警告）が発生していた。
- **修正**: `ModelContextProtocol.Core` SDK への完全移行を実施。古いスタブ属性を削除し、公式の `[McpServerTool]` 属性に統一。

### 3.2. ツール命名規則の修正
- **問題**: 一部のツール名にコロン（`:`）が含まれており、厳格な命名規則を要求する AI クライアントでロードエラーが発生していた。
- **修正**: すべてのツール名からコロンを除去し、アンダースコア（`_`）へ置換。これにより、`^[a-zA-Z0-9_-]+$` の形式に準拠。

### 3.3. パス依存の解消
- **問題**: バッチファイルおよびコード内で開発用ディレクトリの絶対パスがハードコードされていた。
- **修正**: パス設定を相対化、もしくは環境変数を利用する形式に改め、任意のディレクトリ構成での運用を可能にした。

## 4. 削除された項目
クリーンなサーバー構成を維持するため、以下の項目をリポジトリから削除しました：
- **旧来のスクリプト群**: `LAUNCH.bat`, `INSTALL.bat`, `CREATE_PACKAGE.bat` 等（Skyrim 用スクリプトの名残）。
- **デバッグ用遺物**: `test_err.log`, `mcp-server.log` 等の実行時ログ。
- **中間ドキュメント**: 開発フェーズでのみ使用された設計メモ。

## 5. 追加されたドキュメント
- **[README.jp.md](README.jp.md)**: 日本語利用者向けの正式な技術ガイド。
- **[FORK_CHANGES.md](FORK_CHANGES.md)**: 本変更履歴（本作）。

---
**技術担当**: veltrea (Master) & Google Antigravity
**最終更新日**: 2026-01-31
